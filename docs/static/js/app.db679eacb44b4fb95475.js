webpackJsonp([1],{0:function(t,o,e){e("j1ja"),t.exports=e("NHnr")},Ilzg:function(t,o){},NHnr:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("7+uW"),i=(e("K3J8"),{render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"loading-container"},[o("div",{staticClass:"spinner"},[o("div",{staticClass:"double-bounce1"}),this._v(" "),o("div",{staticClass:"double-bounce2"})])])}]});var a={render:function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"toolbar"},[o("div",{staticClass:"form-group"},[o("button",{staticClass:"btn btn-warning",on:{click:this.toggleInfo}},[o("i",{staticClass:"fa fa-info-circle"}),this._v(" "),o("span",[this._v("主要資料")])])]),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"form-group"},[o("button",{staticClass:"btn btn-info"},[o("i",{staticClass:"fa fa-image"}),this._v(" "),o("span",[this._v("預覽")])])])}]};var s={name:"App",computed:{loading:function(){return this.$store.getters["Base/loading"]}},components:{AppLoading:e("VU/8")(null,i,!1,function(t){e("Ilzg")},"data-v-144c75e8",null).exports,Toolbar:e("VU/8")({methods:{toggleInfo:function(){this.$root.$emit("toggleInfo")}}},a,!1,function(t){e("RJL0")},"data-v-62f8acf0",null).exports}},r={render:function(){var t=this.$createElement,o=this._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view"),this._v(" "),o("transition",{attrs:{name:"transition-loading"}},[this.loading?o("AppLoading"):this._e()],1),this._v(" "),o("Toolbar")],1)},staticRenderFns:[]};var c,u=e("VU/8")(s,r,!1,function(t){e("OKFR"),e("onEX"),e("XIzq")},null,null).exports,l=e("/ocq"),d=e("mvHQ"),f=e.n(d),p=e("Zrlr"),m=e.n(p),v=e("wxAW"),h=e.n(v),g=function(){function t(){m()(this,t),this.cookie={},this.storageItemName="cookieStorage",this.init()}return h()(t,[{key:"init",value:function(){if(""!=document.cookie.trim()){var t=decodeURI(document.cookie).split(this.storageItemName+"=")[1];try{this.cookie=JSON.parse(t)}catch(t){this.cookie={}}}}},{key:"all",value:function(){return this.cookie}},{key:"get",value:function(t){!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(""==document.cookie.trim())return null;var o=this.cookie[t];return o||null}},{key:"set",value:function(t,o){this.cookie[t]=o,this._write()}},{key:"delete",value:function(t){delete this.cookie[t],this._write()}},{key:"_write",value:function(){document.cookie=this.storageItemName+"="+encodeURI(f()(this.cookie))}}]),t}(),_=function(){function t(){m()(this,t);var o=Math.random();try{window.localStorage.setItem(o,o),window.localStorage.removeItem(o),this.supportedLocalStorage=!0}catch(t){return void(this.supportedLocalStorage=!1)}}return h()(t,[{key:"all",value:function(){return window.localStorage}},{key:"get",value:function(t){try{var o=window.localStorage.getItem(t);return"string"!=typeof o?null:JSON.parse(o)}catch(t){return null}}},{key:"set",value:function(t,o){window.localStorage.setItem(t,f()(o))}},{key:"delete",value:function(t){window.localStorage.removeItem(t)}}]),t}(),w=(c=new _).supportedLocalStorage?c:new g,P={data:function(){return{show:!1,info:null}},beforeDestroy:function(){this.$root.$off("toggleInfo")},created:function(){this.$root.$on("toggleInfo",this.toggleInfo),this.init()},methods:{init:function(){var t=this,o=w.get("quotation_info");o?this.info=o:o||(this.info=_cloneDeep(this.storeInfo)),this.$nextTick(function(){t.hasAnyInfoEmpty&&(t.show=!0)})},toggleInfo:function(){this.show=!this.show}},computed:{storeInfo:function(){return this.$store.getters["Quotation/info"]},hasAnyInfoEmpty:function(){return!this.storeInfo.companyName||(!this.storeInfo.companyAddress||(!this.storeInfo.companyTel||(!this.storeInfo.customerName||!this.storeInfo.workPlace)))}},watch:{info:{deep:!0,handler:function(){_isEqual(this.info,this.storeInfo)||(this.$store.dispatch("Quotation/setInfo",_cloneDeep(this.info)),w.set("quotation_info",this.info))}}}},y={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return t.info?e("div",{staticClass:"quotation-info"},[e("h3",[t._v("主要資料")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"form"},[e("div",{staticClass:"form-group"},[e("label",[t._v("公司名稱")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.info.companyName,expression:"info.companyName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.info.companyName},on:{input:function(o){o.target.composing||t.$set(t.info,"companyName",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("公司地址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.info.companyAddress,expression:"info.companyAddress"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.info.companyAddress},on:{input:function(o){o.target.composing||t.$set(t.info,"companyAddress",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("公司電話")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.info.companyTel,expression:"info.companyTel"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.info.companyTel},on:{input:function(o){o.target.composing||t.$set(t.info,"companyTel",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("客戶名稱")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.info.customerName,expression:"info.customerName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.info.customerName},on:{input:function(o){o.target.composing||t.$set(t.info,"customerName",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("服務項目地點")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.info.workPlace,expression:"info.workPlace"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.info.workPlace},on:{input:function(o){o.target.composing||t.$set(t.info,"workPlace",o.target.value)}}})])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"alert alert-info"},[t._v('\n    點選右邊"橘色"'),e("i",{staticClass:"fa fa-info-circle"}),t._v(" 資訊按鈕可展開主要資料設定\n  ")])]):t._e()},staticRenderFns:[]};var C=e("VU/8")(P,y,!1,function(t){e("Xp+d")},"data-v-bdecc440",null).exports,I={props:{product:{type:Object},index:{type:Number}},data:function(){return{localProduct:null}},created:function(){this.localProduct=_cloneDeep(this.product)},computed:{sum:function(){return this.localProduct.price*this.localProduct.quantity}},watch:{localProduct:{deep:!0,handler:function(){_isEqual(this.localProduct,this.product)||this.$emit("updateProduct",{index:this.index,product:_cloneDeep(this.localProduct)})}},product:{deep:!0,handler:function(){this.localProduct=_cloneDeep(this.product)}}}},b={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return t.localProduct?e("div",{staticClass:"quotation-product-item"},[e("div",{staticClass:"form-group"},[e("label",[t._v("名稱")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.localProduct.name,expression:"localProduct.name"}],staticClass:"form-control",domProps:{value:t.localProduct.name},on:{input:function(o){o.target.composing||t.$set(t.localProduct,"name",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group inline"},[e("div",{staticClass:"form-group"},[e("label",[t._v("單位")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.localProduct.unit,expression:"localProduct.unit"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.localProduct.unit},on:{input:function(o){o.target.composing||t.$set(t.localProduct,"unit",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("數量")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.localProduct.quantity,expression:"localProduct.quantity"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.localProduct.quantity},on:{input:function(o){o.target.composing||t.$set(t.localProduct,"quantity",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("單價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.localProduct.price,expression:"localProduct.price"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.localProduct.price},on:{input:function(o){o.target.composing||t.$set(t.localProduct,"price",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("複價")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"number",disabled:"disabled"},domProps:{value:t.sum}})])])]):t._e()},staticRenderFns:[]};var k={data:function(){return{products:[]}},created:function(){this.init()},methods:{init:function(){var t=w.get("quotation_products");t?this.products=t:t||(this.products=_cloneDeep(this.storeProducts)),0==this.productQuantity&&this.createDefaultProduct()},createDefaultProduct:function(){this.products.push(this.getDefaultProduct())},getDefaultProduct:function(){return{name:null,unit:null,quantity:1,price:0,sum:0}},updateProduct:function(t){this.$set(this.products,t.index,t.product)}},computed:{storeProducts:function(){return this.$store.getters["Quotation/products"]},productQuantity:function(){return this.$store.getters["Quotation/productQuantity"]}},watch:{products:{deep:!0,handler:function(){_isEqual(this.products,this.storeProducts)||(this.$store.dispatch("Quotation/setProducts",_cloneDeep(this.products)),w.set("quotation_products",this.info))}}},components:{ProductItem:e("VU/8")(I,b,!1,function(t){e("bvM6")},"data-v-a2a10824",null).exports}},x={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"products"},[e("h3",[t._v("服務項目")]),t._v(" "),t._l(t.products,function(o,n){return e("ProductItem",{key:n,attrs:{index:n,product:o},on:{updateProduct:t.updateProduct}})})],2)},staticRenderFns:[]};var N={components:{Info:C,Products:e("VU/8")(k,x,!1,function(t){e("vsrN")},"data-v-bab81340",null).exports}},$={render:function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"container"},[o("div",{staticClass:"form"},[o("Info"),this._v(" "),o("Products")],1)])},staticRenderFns:[]};var q=e("VU/8")(N,$,!1,function(t){e("a5d9")},null,null).exports;n.a.use(l.a);var E=new l.a({routes:[{path:"/",name:"home",component:q}]}),A=e("NYxO"),R={namespaced:!0,state:{loading:!1},mutations:{loading:function(t){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.loading=o}},actions:{loading:function(t,o){t.commit("loading",o)}},getters:{loading:function(t){return t.loading}}};n.a.use(A.a);var S=new A.a.Store({modules:{Base:R,Quotation:{namespaced:!0,state:{taxRate:.05,info:{companyName:null,companyAddress:null,companyTel:null,customerName:null,workPlace:null},products:[],preview:!1},mutations:{set:function(t,o){t[o.key]=o.value},setInfo:function(t,o){t.info=o},setProducts:function(t,o){t.products=o},setPreview:function(t,o){t.preview=o}},actions:{set:function(t,o){t.commit("set",o)},setInfo:function(t,o){t.commit("setInfo",o)},setProducts:function(t,o){t.commit("setProducts",o)},setPreview:function(t,o){t.commit("setPreview",o)}},getters:{info:function(t){return t.info},products:function(t){return t.products},productQuantity:function(t){return t.products.length},preview:function(t){return t.preview},productsPriceSum:function(){},tax:function(){},total:function(){}}}}}),D=e("kvU2"),Q=e.n(D),T=e("lHK6"),U=e.n(T),F=e("hygk"),L=e.n(F);window._cloneDeep=Q.a,window._isEmpty=U.a,window._isEqual=L.a;var O=e("7t+N"),V=e.n(O),J=e("8AgW"),X=e.n(J),j=e("p3jY"),z=e.n(j);n.a.config.productionTip=!1,window.self.$=V.a,n.a.use(X.a),n.a.use(z.a),new n.a({el:"#app",router:E,store:S,components:{App:u},template:"<App/>",metaInfo:function(){return{title:"報價單產生器",link:[{rel:"favicon",href:"static/favicon.ico"},{rel:"shortcut icon",href:"static/favicon.ico"}],meta:[]}}})},OKFR:function(t,o){},RJL0:function(t,o){},XIzq:function(t,o){},"Xp+d":function(t,o){},a5d9:function(t,o){},bvM6:function(t,o){},onEX:function(t,o){},vsrN:function(t,o){}},[0]);
//# sourceMappingURL=app.db679eacb44b4fb95475.js.map